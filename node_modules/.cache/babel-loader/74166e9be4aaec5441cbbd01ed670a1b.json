{"ast":null,"code":"export const initialState = {\n  basket: [{\n    id: '757443',\n    title: 'Amazon Brand - Solimo Tall Kitchen Drawstring Trash Bags, 13 Gallon, 120 Count',\n    price: 14.49,\n    rating: 4.6,\n    img: 'https://images-na.ssl-images-amazon.com/images/I/41vaImNluxL._AC_US160_.jpg'\n  }],\n  user: null\n};\nexport const getBasketTotal = basket => basket === null || basket === void 0 ? void 0 : basket.reduce((amount, item) => item.price + amount, 0);\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ADD_TO_BASKET':\n      return { ...state,\n        basket: [...state.basket, action.item]\n      };\n\n    case 'REMOVE_FROM_BASKET':\n      let newBasket = [...state.basket];\n      const index = state.basket.findIndex(basketItem => basketItem.id === action.id);\n\n      if (index => 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(`Cant remove product(${action.id}) as its not exist`);\n      }\n\n      return { ...state,\n        basket: newBasket\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/maleebook/amazon-clone/src/reducer.js"],"names":["initialState","basket","id","title","price","rating","img","user","getBasketTotal","reduce","amount","item","reducer","state","action","type","newBasket","index","findIndex","basketItem","splice","console","warn"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;AAC1BC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,EAAE,EAAE,QADN;AAEEC,IAAAA,KAAK,EACH,gFAHJ;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,MAAM,EAAE,GALV;AAMEC,IAAAA,GAAG,EACD;AAPJ,GADM,CADkB;AAY1BC,EAAAA,IAAI,EAAE;AAZoB,CAArB;AAeP,OAAO,MAAMC,cAAc,GAAIP,MAAD,IAC5BA,MAD4B,aAC5BA,MAD4B,uBAC5BA,MAAM,CAAEQ,MAAR,CAAe,CAACC,MAAD,EAASC,IAAT,KAAkBA,IAAI,CAACP,KAAL,GAAaM,MAA9C,EAAsD,CAAtD,CADK;;AAGP,SAASE,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9B,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,eAAL;AACE,aAAO,EAAE,GAAGF,KAAL;AAAYZ,QAAAA,MAAM,EAAE,CAAC,GAAGY,KAAK,CAACZ,MAAV,EAAkBa,MAAM,CAACH,IAAzB;AAApB,OAAP;;AAEF,SAAK,oBAAL;AACE,UAAIK,SAAS,GAAG,CAAC,GAAGH,KAAK,CAACZ,MAAV,CAAhB;AACA,YAAMgB,KAAK,GAAGJ,KAAK,CAACZ,MAAN,CAAaiB,SAAb,CACXC,UAAD,IAAgBA,UAAU,CAACjB,EAAX,KAAkBY,MAAM,CAACZ,EAD7B,CAAd;;AAIA,UAAKe,KAAD,IAAW,CAAf,EAAkB;AAChBD,QAAAA,SAAS,CAACI,MAAV,CAAiBH,KAAjB,EAAwB,CAAxB;AACD,OAFD,MAEO;AACLI,QAAAA,OAAO,CAACC,IAAR,CAAc,uBAAsBR,MAAM,CAACZ,EAAG,oBAA9C;AACD;;AACD,aAAO,EAAE,GAAGW,KAAL;AAAYZ,QAAAA,MAAM,EAAEe;AAApB,OAAP;;AAEF;AACE,aAAOH,KAAP;AAlBJ;AAoBD;;AAED,eAAeD,OAAf","sourcesContent":["export const initialState = {\n  basket: [\n    {\n      id: '757443',\n      title:\n        'Amazon Brand - Solimo Tall Kitchen Drawstring Trash Bags, 13 Gallon, 120 Count',\n      price: 14.49,\n      rating: 4.6,\n      img:\n        'https://images-na.ssl-images-amazon.com/images/I/41vaImNluxL._AC_US160_.jpg',\n    },\n  ],\n  user: null,\n};\n\nexport const getBasketTotal = (basket) =>\n  basket?.reduce((amount, item) => item.price + amount, 0);\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ADD_TO_BASKET':\n      return { ...state, basket: [...state.basket, action.item] };\n\n    case 'REMOVE_FROM_BASKET':\n      let newBasket = [...state.basket];\n      const index = state.basket.findIndex(\n        (basketItem) => basketItem.id === action.id,\n      );\n\n      if ((index) => 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(`Cant remove product(${action.id}) as its not exist`);\n      }\n      return { ...state, basket: newBasket };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}